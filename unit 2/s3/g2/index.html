<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <p id="timer"></p>

    <form>
        <input type="text" placeholder="Name" id="input">
        <button type="button" id="save-btn">Save</button>
        <button type="button" id="delete-btn">Delete</button>
    </form>
    <p id="last-user"></p>

    <script>

        //esercizio 1

        let lastUser = document.querySelector('#last-user');
        let inputField = document.querySelector('#input');
        let saveBtn = document.querySelector('#save-btn');
        let deleteBtn = document.querySelector('#delete-btn');

        const showUser = () => {
            let savedUser = localStorage.getItem('name')
            lastUser.innerText = savedUser
        }

        window.onload = showUser

        saveBtn.onclick = () => {
            let user = inputField.value
            localStorage.setItem('name', user);
            if(user){
                showUser();
            }
            inputField.value = ''
        }

        deleteBtn.onclick = () => {
            let user = inputField.value
            if(user){
                localStorage.removeItem('name')
                showUser()
            }
            inputField.value = ''
        }

        //esercizio 2

        let timer = document.querySelector('#timer')
        let seconds = sessionStorage.getItem('timer') || 0

        let interval = setInterval(() => {
            timer.innerText = seconds++
            sessionStorage.setItem('timer', timer.innerText)
        },1000)

    </script>
</body>
</html>